import{_ as i,r as t,o as d,c as r,a as s,b as e,d as n,f as l}from"./app-314de074.js";const c="/kblogs/images/Squid/1.png",o="/kblogs/images/Squid/2.png",u="/kblogs/images/Squid/3.png",p="/kblogs/images/Squid/4.png",h="/kblogs/images/Squid/5.png",m="/kblogs/images/Squid/6.png",_="/kblogs/images/Squid/7.png",b="/kblogs/images/Squid/8.png",v="/kblogs/images/Squid/9.png",g="/kblogs/images/Squid/10.png",q={},k=s("h1",{id:"squid",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#squid","aria-hidden":"true"},"#"),e(" Squid")],-1),f=s("h2",{id:"一、squid简介",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#一、squid简介","aria-hidden":"true"},"#"),e(" 一、Squid简介")],-1),w={href:"https://blog.csdn.net/jobbofhe/article/details/105561452",target:"_blank",rel:"noopener noreferrer"},x=s("br",null,null,-1),S={href:"https://choiajsd.aichatos.com/#/chat/1681287846955",target:"_blank",rel:"noopener noreferrer"},y=s("br",null,null,-1),N={href:"http://www.squid-cache.org/",target:"_blank",rel:"noopener noreferrer"},E=l('<ul><li>Squid是一款流行的缓存代理服务器软件，可以提高网络的访问速度和安全性。它最初是由Dusan J. Stefanovic于1996年创建的，目前已经发展成为开源社区中最为流行的缓存代理服务器之一。Squid可以作为代理服务器，帮助用户加速Web访问、过滤不安全的内容、控制用户行为、减轻网络使用压力等。Squid支持多种协议，包括HTTP、FTP等，是企业网关和ISP等网络服务商的常用软件之一。</li></ul><p>搭建Squid的步骤如下：<br> su 进入root用户<br><img src="'+c+`"></p><h3 id="_1-1-安装命令" tabindex="-1"><a class="header-anchor" href="#_1-1-安装命令" aria-hidden="true">#</a> 1.1 安装命令：</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> squid
yum <span class="token function">install</span> httpd-tools <span class="token parameter variable">-y</span> --认证模块
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+o+`"><h3 id="_1-2-软件相关列表" tabindex="-1"><a class="header-anchor" href="#_1-2-软件相关列表" aria-hidden="true">#</a> 1.2 软件相关列表</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ql</span> squid
/etc/squid/squid.conf           //配置文件
/etc/rc.d/init.d/squid              //启动脚本
/usr/sbin/squid                     //二进制命令
/usr/share/doc/squid-3.1.10          //手册
/var/log/squid                      //日志目录
/var/spool/squid                    //缓存目录
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-生成密码文件" tabindex="-1"><a class="header-anchor" href="#_1-3-生成密码文件" aria-hidden="true">#</a> 1.3 生成密码文件</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> /etc/squid/
<span class="token comment">#kouzhe 是用户名</span>
htpasswd <span class="token parameter variable">-cd</span> /etc/squid/passwords kouzhe
<span class="token comment">#提示输入密码，比如输入000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-4-测试密码文件" tabindex="-1"><a class="header-anchor" href="#_1-4-测试密码文件" aria-hidden="true">#</a> 1.4 测试密码文件</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/usr/lib64/squid/basic_ncsa_auth /etc/squid/passwords
<span class="token comment">#输入用户名 密码</span>
ikaros  kz8989
<span class="token comment">#提示ok说明成功</span>
ok
<span class="token comment">#ctrl+c退出</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+u+`"><h2 id="二、配置squid-conf文件" tabindex="-1"><a class="header-anchor" href="#二、配置squid-conf文件" aria-hidden="true">#</a> 二、配置squid.conf文件</h2><p>将 http_access deny CONNECT !SSL_ports改为http_access allow CONNECT !SSL_ports</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vi</span> /etc/squid/squid.conf
<span class="token comment">#在最后添加</span>
auth_param basic program /usr/lib64/squid/basic_ncsa_auth /etc/squid/passwords
auth_param basic children <span class="token number">5</span> <span class="token comment">#认证个数</span>
auth_param basic realm proxy <span class="token comment">#客户端使用代理描述文字</span>
auth_param basic casesensitive off <span class="token comment">#区分大小写</span>
acl authenticated proxy_auth REQUIRED <span class="token comment">#允许认证用户访问</span>
http_access allow authenticated <span class="token comment"># 认证访问</span>
http_access allow all <span class="token comment">#允许所有访问请求 删除上面一致的</span>
<span class="token comment">#http_port 3128 这样写会同时监听ipv6和ipv4的端口，推荐适应下面的配置方法。</span>
http_port <span class="token number">0.0</span>.0.0:3128
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+p+'"><h3 id="_2-1-日志" tabindex="-1"><a class="header-anchor" href="#_2-1-日志" aria-hidden="true">#</a> 2.1 日志</h3><p>squid的日志位于/var/log/squid/目录下</p><h3 id="_2-2-启动-停止-重启等" tabindex="-1"><a class="header-anchor" href="#_2-2-启动-停止-重启等" aria-hidden="true">#</a> 2.2 启动，停止，重启等</h3><img src="'+h+'">',20),T=s("h3",{id:"_3-0-谷歌浏览器动态代理插件",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_3-0-谷歌浏览器动态代理插件","aria-hidden":"true"},"#"),e(" 3.0 谷歌浏览器动态代理插件")],-1),C={href:"https://www.aliyundrive.com/s/xE4NdjvSsmb",target:"_blank",rel:"noopener noreferrer"},P=s("br",null,null,-1),j=s("img",{src:m},null,-1),z=s("br",null,null,-1),I=s("img",{src:_},null,-1),O=s("br",null,null,-1),L=s("br",null,null,-1),V=s("img",{src:b},null,-1),B=s("br",null,null,-1),R=s("h3",{id:"_3-1查看ip",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_3-1查看ip","aria-hidden":"true"},"#"),e(" 3.1查看ip")],-1),W=s("img",{src:v},null,-1),A=s("img",{src:g},null,-1);function D(H,F){const a=t("ExternalLinkIcon");return d(),r("div",null,[k,f,s("p",null,[e("参考文档："),s("a",w,[e("https://blog.csdn.net/jobbofhe/article/details/105561452"),n(a)]),x,e(" api："),s("a",S,[e("https://choiajsd.aichatos.com/#/chat/1681287846955"),n(a)]),y,e(" 官网："),s("a",N,[e("http://www.squid-cache.org/"),n(a)])]),E,e(" ```powershell #启动start systemctl start squid.service #停止stop systemctl stop squid.service #重启stop systemctl restart squid.service #配置开机自启动 systemctl enable squid.service #关闭开机自启动 systemctl disable squid.service #查看运行状态 systemctl status squid.service # 开放端口 firewall-cmd --permanent --zone=public --add-port=3128/tcp 1. 启动防火墙 systemctl start firewalld 2. 禁用防火墙 systemctl stop firewalld ``` ## 三、Windows下客户端测试 根据以上步骤安装完后，Windows下安装**Proxifier:**自行下载 "),T,s("p",null,[e("Proxy "),s("a",C,[e("https://www.aliyundrive.com/s/xE4NdjvSsmb"),n(a)]),e(" 点击链接保存，或者复制本段内容，打开「阿里云盘」APP ，无需下载极速在线查看，视频原画倍速播放。"),P,j,z,I,O,e(" 修改文件重启服务后"),L,V,B,e(" 配置规则可自行更改")]),R,W,e(" ## 四、问题 ### 问题一：10060 连接尝试失败,错误 10060 查看端口号是否开通 sudo firewall-cmd --permanent --add-port=3306/tcp 向防火墙规则中添加一个开放的端口 firewall-cmd --zone=public --add-port=3306/tcp --permanent 添加端口后刷新防火墙 firewall-cmd --reload 问题二： 1681310475.095 0 183.206.21.40 TAG_NONE/503 0 CONNECT [2409:8c3c:1300:504::78de:e524]:443 kouzhe HIER_NONE/- - "),A])}const J=i(q,[["render",D],["__file","Squid.html.vue"]]);export{J as default};
